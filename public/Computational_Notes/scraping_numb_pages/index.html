<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta name="generator" content="Hugo 0.48" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Scrape Numbered Pages | Christopher Dishop</title>

     
      
    
    
    
    
    

  <meta name="author" content="">

 
    <meta property="og:title" content="Scrape Numbered Pages" />
<meta property="og:description" content="Quick command to compile all links for a website that numbers its pages. Image I want to go to a website that contains 100 pages of reviews, the first 10 on page 1, the second 10 on page 2, the third 10 on page 3, etc. The first step is to create a vector or list of links to navigate to, one for each page.
The output I want is something like this…" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/computational_notes/scraping_numb_pages/" /><meta property="article:published_time" content="2020-03-22T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2020-03-22T00:00:00&#43;00:00"/> 
    



 
    
     
     
    
    
    <link rel="canonical" href="/computational_notes/scraping_numb_pages/">   <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABwlBMVEUAAAA/3MUK07UJ0rRk6NkC0rMAw5sAx6Ic1rs/3MYAlU0E0rQAhjMAyKIAiTkM07UJ07UAhC8m2L4o2L5O4Msn2L4AzKoAzq0128Mo2b8F0rQE0rMu2cAt2cAA0bI228MA0LAAy6kr2b8Q1LcF0rMH0rUAxp4t2b8c1ros2b8P1LcAzKsAzq4528Q02sIM07YAfyg93cUD0rMA0LEA0bFK4c0M1LcL07Uv2sEAzawY1rlJ4c0w2sEAzKkY1rqr+PQN07Yj170G0rQI07UF0bMt2cAF0rMC0bIL07UF0bMs2cAF0rMA0bIC0bIL07UF0rMA0bIA0bIA0bIO1LYr2b8N07Yp2L4F0rMF0rQJ07UA0bIC0bMA0bIH0rQK07UD0bMA0LAF0rMAyqYE0rMA0bIS1Lg228ID0bMM07YS1LcI07QL07UJ07UC0bMM07YG0rMS1Lc328IR1LcC0bIK07UM07Yo2L4P1LcL07UD0rMD0rMD0rMB0bIH0rQ23MMQ1LcD0rMN1LYB0LAJ0rQ33MMG0bMP1bgD0rMN07YH0rQH0rQ33MQF0rMD0rMN1LYo2L4F0rQG0rSA6tsA0bIB0bL////yxqscAAAAk3RSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgnDXAUItvZKBAi6+vpMuf3++wEIAQcEBFn5AgR9UwMEoQLD/AEH4AIdAzha+UMEAQcc9AM4CAFSA9IC+4AEAc8yAwIEBAHOMQOBBLfLMAnFlAJNsa0LAAAAAWJLR0SVCGB6gwAAAAd0SU1FB+EBBBI4BduZ4woAAAF5SURBVDjLY2CAAUYmZgcWRydnVhc2dg4GTMAJlOdydZvs7sHtiU0FSJ7Hy3uyz2RfP24XNl4OLPJ8Xv5A+YBAsAo0M2DyQZMnY1fBL+AgCJXHrkIoWDgEJo9NhUioaBhCHqoiXExcAqZAMkIqckrU5MkoKqSjZeAmyMbIxSIZAFIRMCVOOl4epkAmQSERrwKOJMXkySl4rEhVSkufHDAZtyMzlDPdJweiyiN7UyRLIHsKQj5wMnowSIar5ExJQcjn5qnmqyFHlzqKL7EoQPMlphUaaL7EcGSBZiGKLzFUZGgVFSP5ElNFCVPpFORwhAeVto4uWEGwUJk3alSAVXhIR+tB7ShHTi5QkOIzpUKqEmKCPpODgReaipSUyVWl0tW6GEkWGhRBk2tq6wzrsSVqqPaGRqOmZmMTXWwqwNpbTFvbzMwtsGUMoPb2DqOmTksxK2xZLyhgck1XtzVIuw22zNszeXJvH0i7rR1G9gVlf/v+CRMnWaPYDgA74gwO0j2znAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMS0wNFQxODo1NjowNSswMTowME2yC4wAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDEtMDRUMTg6NTY6MDUrMDE6MDA877MwAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC">


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
    <link rel="stylesheet" href="https://jenil.github.io/bulmaswatch/flatly/bulmaswatch.min.css"> 
    <link rel="stylesheet" href="/css/landing.css">   
    
    
</head>


<body>
    <header> <nav class="navbar is-transparent">
  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="/img/bulma.png" alt="Bulma logo">
    </a>
  </div>
  
    
    
    
    <span class="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
    </span>
    
    
    
    <div class="navbar-end">
      <div class="navbar-item">
        
        
          <a itemprop="url" class="navbar-item " href="/cv/"><span itemprop="name">CV</span></a>
        
          <a itemprop="url" class="navbar-item " href="/rec_reading/"><span itemprop="name">Recommended Reading</span></a>
        
          <a itemprop="url" class="navbar-item " href="/r_resources/"><span itemprop="name">R Resources</span></a>
        
          <a itemprop="url" class="navbar-item  is-active" href="/computational_notes/"><span itemprop="name">Computational_Notes</span></a>
        
      </div> 
    </div>
  </div>
</nav>
 </header>
    <main>

<div class="columns is-fullheight">
    <div class="column">
        <section class="hero is-default is-bold">
            <div class="hero-body">
                <div class="content container">
                   <p>Quick command to compile all links for a website that numbers its pages. Image I want to go to a website that contains 100 pages of reviews, the first 10 on page 1, the second 10 on page 2, the third 10 on page 3, etc. The first step is to create a vector or list of links to navigate to, one for each page.</p>
<p>The output I want is something like this…</p>
<pre class="r"><code>example_output &lt;- &#39;


https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=10
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=20
...


&#39;</code></pre>
<p>in which the first entry is page 1, the second page 2, and so on. There are three steps involved in this process:</p>
<ul>
<li><p>find url for the first page</p></li>
<li><p>discover how the url changes for each subsequent number</p></li>
<li><p>use a string command to compile the url’s.</p></li>
</ul>
<p>First, let’s say I want to scrape data from <a href="https://www.trustpilot.com/review/www.amazon.com">this website</a>, which has reviews across multiple pages. If I copy the url from the first page, and then copy the url from the second page, and the third page, I get…</p>
<pre class="r"><code>&#39;
https://www.trustpilot.com/review/www.amazon.com
https://www.trustpilot.com/review/www.amazon.com?page=2
https://www.trustpilot.com/review/www.amazon.com?page=3

&#39;</code></pre>
<p>So, the base url is the first link. Then, additional pages are coded as “?page=” and then the relevant number.</p>
<p>Second, find the last number. Let’s say it’s 20 in this case.</p>
<pre class="r"><code>last_number &lt;- 20</code></pre>
<p>Third, create a vector that compiles all of the links.</p>
<pre class="r"><code>library(tidyverse)
first_page &lt;- &quot;https://www.trustpilot.com/review/www.amazon.com&quot;
other_pages &lt;- str_c(first_page, &quot;?page=&quot;, 2:last_number)

review_pages &lt;- c(first_page, other_pages)
head(review_pages)</code></pre>
<pre><code>## [1] &quot;https://www.trustpilot.com/review/www.amazon.com&quot;       
## [2] &quot;https://www.trustpilot.com/review/www.amazon.com?page=2&quot;
## [3] &quot;https://www.trustpilot.com/review/www.amazon.com?page=3&quot;
## [4] &quot;https://www.trustpilot.com/review/www.amazon.com?page=4&quot;
## [5] &quot;https://www.trustpilot.com/review/www.amazon.com?page=5&quot;
## [6] &quot;https://www.trustpilot.com/review/www.amazon.com?page=6&quot;</code></pre>
<p>Here’s another example using Indeed. Notice that the values increase by 10 rather than 1.</p>
<pre class="r"><code>example_pages &lt;- &#39;

https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=10
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=20
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=30


&#39;

final_number &lt;- 100
all_vals &lt;- seq(from = 10, to = final_number, by = 10)

first_web &lt;- &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&quot;
other_webs &lt;- str_c(first_web, &quot;$start=&quot;, all_vals)

all_webs &lt;- c(first_web, other_webs)
head(all_webs)</code></pre>
<pre><code>## [1] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&quot;         
## [2] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=10&quot;
## [3] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=20&quot;
## [4] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=30&quot;
## [5] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=40&quot;
## [6] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=50&quot;</code></pre>
<p>Bo<span class="math inline">\(^2\)</span>m =)</p>

                </div>
                <br>
            </div>
        </section>
    </div>
</div>
</main>
    <footer> 
  <footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <p>
                I generated this site using 
                <a href="https://gohugo.io/">Hugo</a> and Jeblister's
                <a href="https://themes.gohugo.io/bulma/">Bulma</a> theme.
                
            </p>
            <p>
              Michigan State University is not liable for any opinions on this website.

            </p>
        </div>
    </div>
</footer>

<script src="//yihui.name/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<link rel="stylesheet" href="/css/obsidian.css" rel="stylesheet" id="theme-stylesheet">
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script> 
</footer>

    <script async type="text/javascript" src="/js/bulma.js"></script>
    <script async type="text/javascript"  src="/js/clipboard.min.js"></script>
    <script async type="text/javascript"  src="/js/clip.js"></script>
</body>

</html>