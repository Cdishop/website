<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="Christopher R. Dishop">
    <meta name="description" content="Quick command to compile all links for a website that numbers its pages. Image I want to go to a website that contains 100 pages of reviews, the first 10 on page 1, the second 10 on page 2, the third 10 on page 3, etc. The first step is to create a vector or list of links to navigate to, one for each page.
The output I want is something like this…">
    <meta name="keywords" content="blog,developer,personal">

    
      <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
    

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Scrape Numbered Pages"/>
<meta name="twitter:description" content="Quick command to compile all links for a website that numbers its pages. Image I want to go to a website that contains 100 pages of reviews, the first 10 on page 1, the second 10 on page 2, the third 10 on page 3, etc. The first step is to create a vector or list of links to navigate to, one for each page.
The output I want is something like this…"/>

    <meta property="og:title" content="Scrape Numbered Pages" />
<meta property="og:description" content="Quick command to compile all links for a website that numbers its pages. Image I want to go to a website that contains 100 pages of reviews, the first 10 on page 1, the second 10 on page 2, the third 10 on page 3, etc. The first step is to create a vector or list of links to navigate to, one for each page.
The output I want is something like this…" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://christopherdishop.netlify.app/computational_notes/scraping_numb_pages/" />
<meta property="article:published_time" content="2020-03-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-03-22T00:00:00+00:00" />


    
      <base href="http://christopherdishop.netlify.app/computational_notes/scraping_numb_pages/">
    
    <title>
  Scrape Numbered Pages · Home
</title>

    
      <link rel="canonical" href="http://christopherdishop.netlify.app/computational_notes/scraping_numb_pages/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="http://christopherdishop.netlify.app/css/coder.min.aca465d1e362e89828cbd890adff660455d93a2703dbede119b5859a41672c49.css" integrity="sha256-rKRl0eNi6Jgoy9iQrf9mBFXZOicD2&#43;3hGbWFmkFnLEk=" crossorigin="anonymous" media="screen" />
    

    

    

    

    

    <link rel="icon" type="image/png" href="http://christopherdishop.netlify.app/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://christopherdishop.netlify.app/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.72.0" />
  </head>

  
  
  <body class="colorscheme-light"
        onload=" twemoji.parse(document.body); "
  >
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="http://christopherdishop.netlify.app/">
      Home
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://christopherdishop.netlify.app/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://raw.githubusercontent.com/Cdishop/homepage/master/misc/CV.pdf">CV</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://christopherdishop.netlify.app/Computational_Notes/">Computational Notes</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://christopherdishop.netlify.app/r_resources/">R Resources</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://christopherdishop.netlify.app/rec_reading/">Recommended Reading</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container page">
  <article>
    <header>
      <h1>Scrape Numbered Pages</h1>
    </header>

    


<p>Quick command to compile all links for a website that numbers its pages. Image I want to go to a website that contains 100 pages of reviews, the first 10 on page 1, the second 10 on page 2, the third 10 on page 3, etc. The first step is to create a vector or list of links to navigate to, one for each page.</p>
<p>The output I want is something like this…</p>
<pre class="r"><code>example_output &lt;- &#39;


https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=10
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=20
...


&#39;</code></pre>
<p>in which the first entry is page 1, the second page 2, and so on. There are three steps involved in this process:</p>
<ul>
<li><p>find url for the first page</p></li>
<li><p>discover how the url changes for each subsequent number</p></li>
<li><p>use a string command to compile the url’s.</p></li>
</ul>
<p>First, let’s say I want to scrape data from <a href="https://www.trustpilot.com/review/www.amazon.com">this website</a>, which has reviews across multiple pages. If I copy the url from the first page, and then copy the url from the second page, and the third page, I get…</p>
<pre class="r"><code>&#39;
https://www.trustpilot.com/review/www.amazon.com
https://www.trustpilot.com/review/www.amazon.com?page=2
https://www.trustpilot.com/review/www.amazon.com?page=3

&#39;</code></pre>
<p>So, the base url is the first link. Then, additional pages are coded as “?page=” and then the relevant number.</p>
<p>Second, find the last number. Let’s say it’s 20 in this case.</p>
<pre class="r"><code>last_number &lt;- 20</code></pre>
<p>Third, create a vector that compiles all of the links.</p>
<pre class="r"><code>library(tidyverse)
first_page &lt;- &quot;https://www.trustpilot.com/review/www.amazon.com&quot;
other_pages &lt;- str_c(first_page, &quot;?page=&quot;, 2:last_number)

review_pages &lt;- c(first_page, other_pages)
head(review_pages)</code></pre>
<pre><code>## [1] &quot;https://www.trustpilot.com/review/www.amazon.com&quot;       
## [2] &quot;https://www.trustpilot.com/review/www.amazon.com?page=2&quot;
## [3] &quot;https://www.trustpilot.com/review/www.amazon.com?page=3&quot;
## [4] &quot;https://www.trustpilot.com/review/www.amazon.com?page=4&quot;
## [5] &quot;https://www.trustpilot.com/review/www.amazon.com?page=5&quot;
## [6] &quot;https://www.trustpilot.com/review/www.amazon.com?page=6&quot;</code></pre>
<p>Here’s another example using Indeed. Notice that the values increase by 10 rather than 1.</p>
<pre class="r"><code>example_pages &lt;- &#39;

https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=10
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=20
https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&amp;start=30


&#39;

final_number &lt;- 100
all_vals &lt;- seq(from = 10, to = final_number, by = 10)

first_web &lt;- &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&quot;
other_webs &lt;- str_c(first_web, &quot;$start=&quot;, all_vals)

all_webs &lt;- c(first_web, other_webs)
head(all_webs)</code></pre>
<pre><code>## [1] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY&quot;         
## [2] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=10&quot;
## [3] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=20&quot;
## [4] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=30&quot;
## [5] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=40&quot;
## [6] &quot;https://www.indeed.com/jobs?q=data+science&amp;l=New+York%2C+NY$start=50&quot;</code></pre>
<p>Bo<span class="math inline">\(^2\)</span>m =)</p>

  </article>
</section>

  

      </div>

      
  <footer class="footer">
    <section class="container">
      
      
        ©
        
          2016 -
        
        2020
         Christopher R. Dishop 
      
      
         · 
        Generated with <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
      
      
        
      


      

    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    
    </section>
  </footer>


    </main>

    

    

    <script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, '//analytics.example.com/tracker.js', 'fathom');
fathom('set', 'siteId', 'ABCDE');
fathom('trackPageview');
</script>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/atom-one-dark.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>


  </body>



</html>
