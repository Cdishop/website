<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta name="generator" content="Hugo 0.48" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Systems Thinking on Goons in the NHL | Christopher Dishop</title>

     
      
    
    
    
    
    

  <meta name="author" content="">

 
    <meta property="og:title" content="Systems Thinking on Goons in the NHL" />
<meta property="og:description" content="Inspired by Bill Burr’s Monday Morning Podcast, episode 6-6-19.
He describes how people that do not understand hockey wanted to get fighting out of the NHL, so in the 2000’s they made greater efforts to remove goons (fighters). What people outside the NHL often do not understand, though, is that fighting is used to minimize dirty play. When a team is playing dirty, you – as a couch of the team that is not playing dirty – send out a goon to punch around a few of their players." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/computational_notes/system_goons/" /><meta property="article:published_time" content="2019-06-14T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2019-06-14T00:00:00&#43;00:00"/> 
    



 
    
     
     
    
    
    <link rel="canonical" href="/computational_notes/system_goons/">   <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABwlBMVEUAAAA/3MUK07UJ0rRk6NkC0rMAw5sAx6Ic1rs/3MYAlU0E0rQAhjMAyKIAiTkM07UJ07UAhC8m2L4o2L5O4Msn2L4AzKoAzq0128Mo2b8F0rQE0rMu2cAt2cAA0bI228MA0LAAy6kr2b8Q1LcF0rMH0rUAxp4t2b8c1ros2b8P1LcAzKsAzq4528Q02sIM07YAfyg93cUD0rMA0LEA0bFK4c0M1LcL07Uv2sEAzawY1rlJ4c0w2sEAzKkY1rqr+PQN07Yj170G0rQI07UF0bMt2cAF0rMC0bIL07UF0bMs2cAF0rMA0bIC0bIL07UF0rMA0bIA0bIA0bIO1LYr2b8N07Yp2L4F0rMF0rQJ07UA0bIC0bMA0bIH0rQK07UD0bMA0LAF0rMAyqYE0rMA0bIS1Lg228ID0bMM07YS1LcI07QL07UJ07UC0bMM07YG0rMS1Lc328IR1LcC0bIK07UM07Yo2L4P1LcL07UD0rMD0rMD0rMB0bIH0rQ23MMQ1LcD0rMN1LYB0LAJ0rQ33MMG0bMP1bgD0rMN07YH0rQH0rQ33MQF0rMD0rMN1LYo2L4F0rQG0rSA6tsA0bIB0bL////yxqscAAAAk3RSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgnDXAUItvZKBAi6+vpMuf3++wEIAQcEBFn5AgR9UwMEoQLD/AEH4AIdAzha+UMEAQcc9AM4CAFSA9IC+4AEAc8yAwIEBAHOMQOBBLfLMAnFlAJNsa0LAAAAAWJLR0SVCGB6gwAAAAd0SU1FB+EBBBI4BduZ4woAAAF5SURBVDjLY2CAAUYmZgcWRydnVhc2dg4GTMAJlOdydZvs7sHtiU0FSJ7Hy3uyz2RfP24XNl4OLPJ8Xv5A+YBAsAo0M2DyQZMnY1fBL+AgCJXHrkIoWDgEJo9NhUioaBhCHqoiXExcAqZAMkIqckrU5MkoKqSjZeAmyMbIxSIZAFIRMCVOOl4epkAmQSERrwKOJMXkySl4rEhVSkufHDAZtyMzlDPdJweiyiN7UyRLIHsKQj5wMnowSIar5ExJQcjn5qnmqyFHlzqKL7EoQPMlphUaaL7EcGSBZiGKLzFUZGgVFSP5ElNFCVPpFORwhAeVto4uWEGwUJk3alSAVXhIR+tB7ShHTi5QkOIzpUKqEmKCPpODgReaipSUyVWl0tW6GEkWGhRBk2tq6wzrsSVqqPaGRqOmZmMTXWwqwNpbTFvbzMwtsGUMoPb2DqOmTksxK2xZLyhgck1XtzVIuw22zNszeXJvH0i7rR1G9gVlf/v+CRMnWaPYDgA74gwO0j2znAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMS0wNFQxODo1NjowNSswMTowME2yC4wAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDEtMDRUMTg6NTY6MDUrMDE6MDA877MwAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC">


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
    <link rel="stylesheet" href="https://jenil.github.io/bulmaswatch/flatly/bulmaswatch.min.css"> 
    <link rel="stylesheet" href="/css/landing.css">   
    
    
</head>


<body>
    <header> <nav class="navbar is-transparent">
  <div class="navbar-brand">
    <a class="navbar-item" href="/">
      <img src="/img/bulma.png" alt="Bulma logo">
    </a>
  </div>
  
    
    
    
    <span class="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
    </span>
    
    
    
    <div class="navbar-end">
      <div class="navbar-item">
        
        
          <a itemprop="url" class="navbar-item " href="/cv/"><span itemprop="name">CV</span></a>
        
          <a itemprop="url" class="navbar-item " href="/rec_reading/"><span itemprop="name">Recommended Reading</span></a>
        
          <a itemprop="url" class="navbar-item " href="/r_resources/"><span itemprop="name">R Resources</span></a>
        
          <a itemprop="url" class="navbar-item  is-active" href="/computational_notes/"><span itemprop="name">Computational_Notes</span></a>
        
      </div> 
    </div>
  </div>
</nav>
 </header>
    <main>

<div class="columns is-fullheight">
    <div class="column">
        <section class="hero is-default is-bold">
            <div class="hero-body">
                <div class="content container">
                   <p>Inspired by Bill Burr’s Monday Morning Podcast, episode 6-6-19.</p>
<p>He describes how people that do not understand hockey wanted to get fighting out of the NHL, so in the 2000’s they made greater efforts to remove goons (fighters). What people outside the NHL often do not understand, though, is that fighting is used to minimize dirty play. When a team is playing dirty, you – as a couch of the team that is not playing dirty – send out a goon to punch around a few of their players. In doing so, the other team knocks it off and play continues candidly. Fighting looks bad, but the overall amount of dirty play in the NHL is reduced when it contains a sufficient population of goons. Sounds like systems thinking.</p>
<div id="simulation-set-up" class="section level2">
<h2>Simulation Set-Up</h2>
<ul>
<li><p>States and Relationships</p>
<ul>
<li><p>2 states modeled over time (number of goons and number of dirty plays, or the level of “dirtiness” in the NHL)</p></li>
<li><p>Number of goons fluctuates independently but with autoregression</p>
<ul>
<li>N_goons(t) = N_goons(t-1)</li>
</ul></li>
<li><p>Dirtiness level is a function of its prior self and the number of goons, such that a greater number of goons causes lower levels of dirtiness</p>
<ul>
<li>D_level(t) = D_level(t-1) + N_goons(t)</li>
</ul></li>
</ul></li>
<li><p>Flow</p>
<ul>
<li><p>First, watch the states fluctuate over time and establish equilibrium</p></li>
<li><p>Second, remove a bunch of goons and then see what happens to the system</p></li>
</ul></li>
</ul>
</div>
<div id="simulation" class="section level2">
<h2>Simulation</h2>
<p>Initial levels of goons and dirtiness.</p>
<pre class="r"><code>n_goons_initial &lt;- 30
d_level_initial &lt;- 15</code></pre>
<p>Now simulate the states across time (20 time points) according to the simulation set-up above. Alpha will be set to 0.7 for both states and beta will be set to 0.5. The long-run level for goons (intercept) will be 25 and the long-run level for dirtiness (intercept) will be 20.</p>
<pre class="r"><code>time &lt;- 30
df_mat &lt;- matrix(ncol = 3, nrow = time)
count &lt;- 0

for(i in seq_along(1:time)){
  count &lt;- count + 1
  
  
  if(i == 1){
    
    df_mat[count, 1] &lt;- n_goons_initial
    df_mat[count, 2] &lt;- d_level_initial
    df_mat[count, 3] &lt;- i
    
  }else{
    
    
    df_mat[count, 1] &lt;- 25 + 0.7*df_mat[count - 1, 1] + rnorm(1, 0, 1)
    df_mat[count, 2] &lt;- 20 + 0.7*df_mat[count - 1, 2] - 0.2*df_mat[count, 1] + rnorm(1, 0, 1)
    df_mat[count, 3] &lt;- i
    
    
  }
  
  
}

df &lt;- data.frame(df_mat)
names(df) &lt;- c(&#39;n_goons&#39;, &#39;d_level&#39;, &#39;time&#39;)</code></pre>
<p>View both states over time.</p>
<pre class="r"><code>df_plot &lt;- df %&gt;%
  gather(n_goons, d_level, key = &#39;variable&#39;, value = &#39;value&#39;)

ggplot(df_plot, aes(x = time, y = value, color = variable)) + 
  geom_point() + 
  geom_line() + 
  theme_classic()</code></pre>
<p><img src="/Computational_Notes/system_goons_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>As you can see, the number of goons and the dirtiness level in the NHL drives toward equilibrium levels over time.</p>
<p>Now, what happens to the level of dirtiness when we remove a bunch of goons at time point 14?</p>
<pre class="r"><code>n_goons_initial &lt;- 30
d_level_initial &lt;- 15

time &lt;- 30
df_mat &lt;- matrix(ncol = 3, nrow = time)
count &lt;- 0

for(i in seq_along(1:time)){
  count &lt;- count + 1
  
  
  if(i == 1){
    
    df_mat[count, 1] &lt;- n_goons_initial
    df_mat[count, 2] &lt;- d_level_initial
    df_mat[count, 3] &lt;- i
    
  }else if (i &lt;=13){
    
    df_mat[count, 1] &lt;- 25 + 0.7*df_mat[count - 1, 1] + rnorm(1, 0, 1)
    df_mat[count, 2] &lt;- 20 + 0.7*df_mat[count - 1, 2] - 0.2*df_mat[count, 1] + rnorm(1, 0, 1)
    df_mat[count, 3] &lt;- i
    
    
    # HERE IS THE CHANGE
  }else if(i  &gt; 13){
    
    num_goons &lt;- sample(c(2,3,4), 1)
    df_mat[count, 1] &lt;- num_goons
    df_mat[count, 2] &lt;- 20 + 0.7*df_mat[count - 1, 2] - 0.2*df_mat[count, 1] + rnorm(1, 0, 1)
    df_mat[count, 3] &lt;- i
    ######################################
    
  }
}
  

df &lt;- data.frame(df_mat)
names(df) &lt;- c(&#39;n_goons&#39;, &#39;d_level&#39;, &#39;time&#39;)

df_plot &lt;- df %&gt;%
  gather(n_goons, d_level, key = &#39;variable&#39;, value = &#39;value&#39;)

ggplot(df_plot, aes(x = time, y = value, color = variable)) + 
  geom_point() + 
  geom_line() + 
  theme_classic()</code></pre>
<p><img src="/Computational_Notes/system_goons_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>What happened? We removed goons, so fighting occurs at lower rates, but the NHL on the whole is dirtier.</p>
<p>Bo<span class="math inline">\(^2\)</span>m =)</p>
</div>

                </div>
                <br>
            </div>
        </section>
    </div>
</div>
</main>
    <footer> 
  <footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <p>
                I generated this site using 
                <a href="https://gohugo.io/">Hugo</a> and Jeblister's
                <a href="https://themes.gohugo.io/bulma/">Bulma</a> theme.
                
            </p>
            <p>
              Michigan State University is not liable for any opinions on this website.

            </p>
        </div>
    </div>
</footer>

<script src="//yihui.name/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<link rel="stylesheet" href="/css/obsidian.css" rel="stylesheet" id="theme-stylesheet">
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script> 
</footer>

    <script async type="text/javascript" src="/js/bulma.js"></script>
    <script async type="text/javascript"  src="/js/clipboard.min.js"></script>
    <script async type="text/javascript"  src="/js/clip.js"></script>
</body>

</html>